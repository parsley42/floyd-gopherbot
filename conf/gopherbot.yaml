# This is the non-sensitive configuration for Bender, the gopherbot used
# for development.
# List of users that can issue admin commands like reload, quit. Should be
# a list of user handles / nicks.
AdminUsers: [ "parsley", "adrienne" ]

# Port to listen on for http/JSON api calls, for external plugins
LocalPort: 8888

Protocol: slack
ProtocolConfig:
  MaxMessageSplit: 2

# Specify the mechanism for storing the robots memories.
Brain: dynamo
BrainConfig:
  TableName: Floyd
  Region: "us-east-1"
EncryptBrain: true

# The administrator of this robot, can be retrieved in plugins with
# GetBotAttribute("admin")
AdminContact: "David Parsley, <parsley@linuxjedi.org>"

# If a plugin doesn't specify otherwise it will be active in these channels;
# defaults to all channels
DefaultChannels: [ "general", "random", "chat", "botdev" ]

# One-character alias the bot can be called by. Note: not all single characters
# are supported. If your robot doesn't respond to e.g. ";ping", try changing
# the Alias to something other than ";". Popular alternatives: ":", "!", "*".
Alias: ";"

# List of external plugins/jobs to configure; generally scripts using a gopherbot
# script library. The robot will look for plugins in the installation directory
# first, then the local config directory.
ExternalPlugins:
- Name: weather
  Path: plugins/weather.rb
  Description: A plugin using OpenWeatherMap to give the weather
  Parameters:
  - Name: TEMP_UNITS
    Value: imperial # or 'metric'
  - Name: DEFAULT_COUNTRY
    Value: 'us' # or other ISO 3166 country code
- Name: chuck
  Description: No robot worth it's salt doesn't know all about CHUCK NORRIS
  Path: plugins/chuck.rb
- Name: code
  Description: A convenience plugin for launching code-related jobs
  Path: plugins/code.sh
- Name: update
  Description: A plugin that triggers the updatecfg job
  Path: plugins/update.sh
ExternalJobs:
# GopherCI jobs
- Name: gopherci
  Description: A job triggered by commit posts in Slack
  Path: jobs/gopherci.py
- Name: localtrusted
  Description: Job spawned by gopherci to just clone a repo locally and run .gopherci/pipeline.sh
  Path: jobs/localtrusted.py
# /GopherCI jobs
- Name: updatecfg
  Description: A job that updates the robot's configuration from git
  Path: jobs/updatecfg.sh
- Name: cloud9wks
  Description: Job to launch a Cloud9 Instance
  Path: jobs/c9wks.sh
  Parameters:
  - Name: AWS_REGION
    Value: us-east-1
- Name: bender
  Description: Job to launch a spot instance for Bender and configure it
  Path: jobs/bender.sh
  Parameters:
  - Name: AWS_REGION
    Value: us-east-1
- Name: cloud9f28
  Description: Job to launch a Fedora 28 Cloud9 Instance
  Path: jobs/c9wks.sh
  Parameters:
  - Name: DEVHOST
    Value: f28devel
  - Name: DEVIMG
    Value: f28devel
  - Name: AWS_REGION
    Value: us-east-1
ExternalTasks:
# GopherCI tasks
- Name: git-sync
  Description: Simple script to clone or pull a repository
  Path: tasks/git-sync.sh
- Name: exec
  Description: Simple utility for running scripts in a repository
  Path: tasks/exec.sh
- Name: localexec
  Description: Simple utility for running scripts in a repository
  Path: tasks/localexec.sh
- Name: ansible-playbook
  NameSpace: ansible
  Description: Ansible playbook (ansible-playbook) runner with vault passphrase helper
  Path: tasks/ansible-playbook.sh
- Name: notify
  Description: Send a message to a user, generally as a FailTask
  Path: tasks/notify.sh
- Name: dmnotify
  Description: Send a DM to a user, generally as a FailTask
  Path: tasks/dmnotify.sh
- Name: git
  Description: One SCM to Rule Them All
  Path: /usr/bin/git
- Name: ssh-agent
  Description: ssh agent command for terminating the agent
  Path: /usr/bin/ssh-agent
- Name: ssh-init
  Description: Set up an ssh-agent for the robot
  Path: tasks/ssh-init.sh
- Name: ssh-scan
  Description: Helper script for adding ssh host keys to known_hosts
  Path: tasks/ssh-scan.sh
# /GopherCI tasks
# Floyd job tasks
- Name: build-c9wks
  Description: Task that launches and configures the Cloud9 instance
  Path: tasks/build-c9wks.sh
  Parameters:
  - Name: KEYNAME
    Value: floyd
- Name: wake-bender
  Description: Task that launches and configures the instance for Bender
  Path: tasks/wake-bender.sh
  Parameters:
  - Name: KEYNAME
    Value: floyd
# /Floyd job tasks

# If a job doesn't specify otherwise, this is the channel where it runs
DefaultJobChannel: floyd-jobs

# Timezone for scheduled jobs
TimeZone: "America/New_York"
# Job scheduling with github.com/robfig/cron
# ScheduledTasks:
# - Name: hello
#   Schedule: "@every 5m" # see: https://godoc.org/github.com/robfig/cron
#   Arguments: # an array of strings; up to the job to parse numbers & bools
#   - "Hello, World !!!"
# - Job: hello
#   Schedule: "0 */5 * * * *"

DefaultMessageFormat: Raw
# Users the bot should never listen to
#IgnoreUsers: [ "otherbot", "slackbot" ]

# Initial log level, one of trace, debug, info, warn, error. See 'help log'
# for help on changing the log level and viewing contents of the log.
LogLevel: info
#LogLevel: trace
#LogLevel: debug

# The robot's email address (used in From:)
#Email: robbie@robot.com
# Configuration for sending out email. For Authtype: none, User and Password
# can be left out. Note that sending email will fail if Email isn't set.
#MailConfig:
#  Mailhost: <somehost:port>
#  Authtype: <plain|none>
#  User: <authuser>
#  Password: <password>

DefaultElevator: duo
